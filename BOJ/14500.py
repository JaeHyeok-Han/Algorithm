import sys

N, M = list(map(int, sys.stdin.readline().strip().split(' ')))
ground = [list(map(int, sys.stdin.readline().strip().split(' '))) for _ in range(N)]
shape = [[[0, 0], [0, 1], [0, 2], [0, 3]],
         [[0, 0], [1, 0], [2, 0], [3, 0]],
         [[0, 0], [0, 1], [1, 0], [1, 1]],
         [[0, 0], [1, 0], [2, 0], [2, 1]],
         [[0, 0], [0, 1], [0, 2], [-1, 2]],
         [[0, 0], [-1, 0], [-2, 0], [-2, -1]],
         [[0, 0], [0, -1], [0, -2], [1, -2]],
         [[0, 0], [1, 0], [2, 0], [2, -1]],
         [[0, 0], [0, 1], [0, 2], [1, 2]],
         [[0, 0], [-1, 0], [-2, 0], [-2, 1]],
         [[0, 0], [0, -1], [0, -2], [-1, -2]],
         [[0, 0], [1, 0], [1, 1], [2, 1]],
         [[0, 0], [0, 1], [-1, 1], [-1, 2]],
         [[0, 0], [1, 0], [1, -1], [2, -1]],
         [[0, 0], [0, 1], [1, 1], [1, 2]],
         [[0, 0], [0, 1], [0, 2], [1, 1]],
         [[0, 0], [1, 0], [2, 0], [1, -1]],
         [[0, 0], [0, 1], [0, 2], [-1, 1]],
         [[0, 0], [1, 0], [2, 0], [1, 1]]]

answer = 0
for i in range(N):
    for j in range(M):
        for s in shape:
            temp = 0
            for t in s:
                if 0 <= i + t[0] < N and 0 <= j + t[1] < M:
                    temp += ground[i + t[0]][j + t[1]]
                else:
                     break
            if temp >= answer:
                answer = temp

print(answer)

